---
title       : Importing data with readr
description : This chapter covers all the useful `readr` functions that reads in data.

--- type:NormalExercise lang:r xp:100 skills:1
## Reading a .csv file

Welcome to this mini-course on the `readr` package!  Over the next two chapters, you’ll be exposed to many of the great features this chapter has to offer.

Let’s get started right away with some basic importing features.  Your first task will be to master the use of the `read_csv()` function.  There are many arguments available, but the only required argument is `file`, a path to a CSV file on the disk.

You’ll be practicing your importing skills on a dataset containing weights of chickens and their feed type.

*** =instructions
- Load the `readr` package.
- Use the `read_csv()` function to import `chickwts.csv`.  Call the resulting data frame `cwts`.
- View the `head()` of `cwts`.

*** =hint
Your call to `read_csv()` should take one argument: the name of the CSV file, in quotes.

*** =pre_exercise_code
```{r}
## TODO: insert link from teach app
```

*** =sample_code
```{r}
# Load readr
library(readr)

# Import chickwts.csv: cwts
cwts <- read_csv("chickwts.csv")

# View the head of cwts
head(cwts)
```

*** =solution
```{r}
# Load readr
library(readr)

# Import chickwts.csv: cwts
cwts <- read_csv("chickwts.csv")

# View the head of cwts
head(cwts)
```

*** =sct
```{r}
test_library_function("readr")
test_function("read_csv")
test_output_contains("head(cwts)")
test_error()
success_msg("Great work!")
```

--- type:NormalExercise lang:r xp:100 skills:1
## Reading a .tsv file

If your file happens to be tab-delimited, `readr` offers a function specifically for that purpose.  `read_tsv()` uses a TSV file to produce a data frame in R.

`read_tsv()` behaves almost identically to `read_csv()`.  There are many optional arguments and one required argument, `file`.

In this exercise, you’ll import a set of data on professors’ salaries called `Salaries.tsv`.  This time, we’ll also explore a couple of optional arguments.

*** =instructions
- Load the `readr` package.
- Use the `read_tsv()` function to read in the `Salaries.tsv` file. Store the result in an object called `salaries`.
- View the `head()` of `salaries`.

*** =hint
Don't forget to specify the `file` argument to `read_tsv()` in quotes!

*** =pre_exercise_code
```{r}
# TODO: add AWS link to Salaries.tsv

```

*** =sample_code
```{r}
# Load readr
library(readr)

# Import data: salaries
salaries <- read_tsv("Salaries.tsv")

# View first six rows of salaries
head(salaries)
```

*** =solution
```{r}
# Load readr
library(readr)

# Import data: salaries
salaries <- read_tsv("Salaries.tsv")

# View first six rows of salaries
head(salaries)
```

*** =sct
```{r}
test_library_function("readr")
test_function("read_tsv", not_called_msg = "Don't forget to call `read_tsv()` to import your data.", incorrect_msg = "Did you call the `read_tsv()` function to import your data? The name of the file is `Salaries.tsv`.")
test_function("head", incorrect_msg = "Did you print the first six rows of `salaries` using `head()`?")
test_error()
success_msg("Great work!")
```

--- type:NormalExercise lang:r xp:100 skills:1
## Reading a European .csv

In most of Europe, commas (rather than periods) are used as decimal points.  This creates an issue for comma-separated value files: since commas can no longer be used to separate values, semicolons are used instead.

For this reason, `readr` provides `read_csv2()` which looks for `;` to indicate column breaks and `,` to indicate decimal points.  Other than that, it behaves just like `read_csv()`.

In this exercise, you'll see what happens when you incorrectly use `read_csv()` on `trees.csv`, which separates its values with semicolons. This dataset is part of the `dataset` package and contains information on the girth, height, and volume for Black Cherry Trees.

*** =instructions
The `readr` package is already loaded in your workspace.

- Incorrectly import `trees.csv` with the `read_csv()` function and store the result as `trees1`.
- View the first six rows of `trees1`.
- Now correctly import the data with the `read_csv2()` function and store the result as `trees2`.
- View the first six rows of `trees2`. Do you see the difference?

*** =hint
The `read_csv()` and `read_csv2()` functions have the same syntax. Specify the `file` argument to both calls and make sure it's in quotes!

*** =pre_exercise_code
```{r}
# Add trees.csv file to workspace here

```

*** =sample_code
```{r}
# Incorrectly import trees.csv usin
```

*** =solution
```{r}
# solution code
```

*** =sct
```{r}
success_msg("Great work!")
```

--- type:NormalExercise lang:r xp:100 skills:1
## Read a fixed-width file

Use read_table to import a directory of some famous names.  Then use read_fwf to make use of the skip and na arguments.

*** =instructions
- instruction 1
- instruction 2

*** =hint
hint comes here

*** =pre_exercise_code
```{r}
# pec
```

*** =sample_code
```{r}
# sample code
```

*** =solution
```{r}
# solution code
```

*** =sct
```{r}
success_msg("Great work!")
```

--- type:NormalExercise lang:r xp:100 skills:1
## Reading a text file

Use read_file and read_lines to import tweets into R.

*** =instructions
- instruction 1
- instruction 2

*** =hint
hint comes here

*** =pre_exercise_code
```{r}
# pec
```

*** =sample_code
```{r}
# sample code
```

*** =solution
```{r}
# solution code
```

*** =sct
```{r}
success_msg("Great work!")
```

--- type:NormalExercise lang:r xp:100 skills:1
## Writing .csv and .tsv files

Use write_csv and write_tsv to save data frames to the disk.

*** =instructions
- instruction 1
- instruction 2

*** =hint
hint comes here

*** =pre_exercise_code
```{r}
# pec
```

*** =sample_code
```{r}
# sample code
```

*** =solution
```{r}
# solution code
```

*** =sct
```{r}
success_msg("Great work!")
```

--- type:NormalExercise lang:r xp:100 skills:1
## Writing .rds files

Use write_rds to preserve metadata about R objects.

*** =instructions
- instruction 1
- instruction 2

*** =hint
hint comes here

*** =pre_exercise_code
```{r}
# pec
```

*** =sample_code
```{r}
# sample code
```

*** =solution
```{r}
# solution code
```

*** =sct
```{r}
success_msg("Great work!")
```

